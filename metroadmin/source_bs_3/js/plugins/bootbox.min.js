window.bootbox=window.bootbox||function init(e,l){function n(a,b,c){a.preventDefault();e.isFunction(c)&&!1===c(a)||b.modal("hide")}function w(a){var b,c=0;for(b in a)c++;return c}function h(a,b){var c=0;e.each(a,function(a,d){b(a,d,c++)})}function x(a){var b,c;if("object"!==typeof a)throw Error("Please supply an object of options");if(!a.message)throw Error("Please specify a message");a=e.extend({},p,a);a.buttons||(a.buttons={});a.backdrop=a.backdrop?"static":!1;b=a.buttons;c=w(b);h(b,function(a,
d,g){e.isFunction(d)&&(d=b[a]={callback:d});if("object"!==e.type(d))throw Error("button with key "+a+" must be an object");d.label||(d.label=a);d.className||(d.className=2>=c&&g===c-1?"btn-primary":"btn-default")});return a}function r(a,b){var c=a.length,f={};if(1>c||2<c)throw Error("Invalid argument length");2===c||"string"===typeof a[0]?(f[b[0]]=a[0],f[b[1]]=a[1]):f=a[0];return f}function s(a,b,c,f){a={className:"bootbox-"+a,buttons:t.apply(null,b)};return u(e.extend(!0,{},a,r(f,c)),b)}function t(){for(var a=
{},b=0,c=arguments.length;b<c;b++){var f=arguments[b],d=f.toLowerCase(),f=f.toUpperCase(),e=v[p.locale];a[d]={label:e?e[f]:v.en[f]}}return a}function u(a,b){var c={};h(b,function(a,b){c[b]=!0});h(a.buttons,function(a){if(c[a]===l)throw Error("button key "+a+" is not allowed (options are "+b.join("\n")+")");});return a}var q={text:"<input class='bootbox-input bootbox-input-text form-control' autocomplete=off type=text />",email:"<input class='bootbox-input bootbox-input-email form-control' autocomplete='off' type='email' />",
select:"<select class='bootbox-input bootbox-input-select form-control'></select>",checkbox:"<div class='checkbox'><label><input class='bootbox-input bootbox-input-checkbox' type='checkbox' /></label></div>"},y=e("body"),p={locale:"en",backdrop:!0,animate:!0,className:null,closeButton:!0,show:!0},k={alert:function(){var a;a=s("alert",["ok"],["message","callback"],arguments);if(a.callback&&!e.isFunction(a.callback))throw Error("alert requires callback property to be a function when provided");a.buttons.ok.callback=
a.onEscape=function(){return e.isFunction(a.callback)?a.callback():!0};return k.dialog(a)},confirm:function(){var a;a=s("confirm",["cancel","confirm"],["message","callback"],arguments);a.buttons.cancel.callback=a.onEscape=function(){return a.callback(!1)};a.buttons.confirm.callback=function(){return a.callback(!0)};if(!e.isFunction(a.callback))throw Error("confirm requires a callback");return k.dialog(a)},prompt:function(){var a,b,c,f,d,g;f=e("<form class='bootbox-form'></form>");b={className:"bootbox-prompt",
buttons:t("cancel","confirm"),value:"",inputType:"text"};a=u(e.extend(!0,{},b,r(arguments,["title","callback"])),["cancel","confirm"]);b=a.show===l?!0:a.show;a.message=f;a.buttons.cancel.callback=a.onEscape=function(){return a.callback(null)};a.buttons.confirm.callback=function(){var b;switch(a.inputType){case "text":case "email":case "select":b=d.val();break;case "checkbox":var c=d.find("input:checked");b=[];h(c,function(a,c){b.push(e(c).val())})}return a.callback(b)};a.show=!1;if(!a.title)throw Error("prompt requires a title");
if(!e.isFunction(a.callback))throw Error("prompt requires a callback");if(!q[a.inputType])throw Error("invalid prompt type");d=e(q[a.inputType]);switch(a.inputType){case "text":case "email":d.val(a.value);break;case "select":var m={};g=a.inputOptions||[];if(!g.length)throw Error("prompt with select requires options");h(g,function(a,b){var c=d;if(b.value===l||b.text===l)throw Error("given options in wrong format");b.group&&(m[b.group]||(m[b.group]=e("<optgroup/>").attr("label",b.group)),c=m[b.group]);
c.append("<option value='"+b.value+"'>"+b.text+"</option>")});h(m,function(a,b){d.append(b)});d.val(a.value);break;case "checkbox":var z=e.isArray(a.value)?a.value:[a.value];g=a.inputOptions||[];if(!g.length)throw Error("prompt with checkbox requires options");if(!g[0].value||!g[0].text)throw Error("given options in wrong format");d=e("<div/>");h(g,function(b,c){var f=e(q[a.inputType]);f.find("input").attr("value",c.value);f.find("label").append(c.text);h(z,function(a,b){b===c.value&&f.find("input").prop("checked",
!0)});d.append(f)})}a.placeholder&&d.attr("placeholder",a.placeholder);f.append(d);f.on("submit",function(a){a.preventDefault();c.find(".btn-primary").click()});c=k.dialog(a);c.off("shown.bs.modal");c.on("shown.bs.modal",function(){d.focus()});!0===b&&c.modal("show");return c},dialog:function(a){a=x(a);var b=e("<div class='bootbox modal' tabindex='-1' role='dialog'><div class='modal-dialog'><div class='modal-content'><div class='modal-body'><div class='bootbox-body'></div></div></div></div></div>"),
c=b.find(".modal-body"),f="",d={onEscape:a.onEscape};h(a.buttons,function(a,b){f+="<button data-bb-handler='"+a+"' type='button' class='btn "+b.className+"'>"+b.label+"</button>";d[a]=b.callback});c.find(".bootbox-body").html(a.message);!0===a.animate&&b.addClass("fade");a.className&&b.addClass(a.className);a.title&&c.before("<div class='modal-header'><h4 class='modal-title'></h4></div>");if(a.closeButton){var g=e("<button type='button' class='bootbox-close-button close'>&times;</button>");a.title?
b.find(".modal-header").prepend(g):g.css("margin-top","-10px").prependTo(c)}a.title&&b.find(".modal-title").html(a.title);f.length&&(c.after("<div class='modal-footer'></div>"),b.find(".modal-footer").html(f));b.on("hidden.bs.modal",function(a){a.target===this&&(jQuery().modalmanager?setTimeout(function(){b.remove()},1E3):b.remove())});b.on("shown.bs.modal",function(){b.find(".btn-primary:first").focus()});b.on("escape.close.bb",function(a){d.onEscape&&n(a,b,d.onEscape)});b.on("click",".modal-footer button",
function(a){var c=e(this).data("bb-handler");n(a,b,d[c])});b.on("click",".bootbox-close-button",function(a){n(a,b,d.onEscape)});b.on("keyup",function(a){27===a.which&&b.trigger("escape.close.bb")});y.append(b);b.modal({backdrop:a.backdrop,keyboard:!1,show:!1});a.show&&b.modal("show");return b},setDefaults:function(){var a={};2===arguments.length?a[arguments[0]]=arguments[1]:a=arguments[0];e.extend(p,a)},hideAll:function(){e(".bootbox").modal("hide")}},v={br:{OK:"OK",CANCEL:"Cancelar",CONFIRM:"Sim"},
da:{OK:"OK",CANCEL:"Annuller",CONFIRM:"Accepter"},de:{OK:"OK",CANCEL:"Abbrechen",CONFIRM:"Akzeptieren"},en:{OK:"OK",CANCEL:"Cancel",CONFIRM:"OK"},es:{OK:"OK",CANCEL:"Cancelar",CONFIRM:"Aceptar"},fi:{OK:"OK",CANCEL:"Peruuta",CONFIRM:"OK"},fr:{OK:"OK",CANCEL:"Annuler",CONFIRM:"D'accord"},it:{OK:"OK",CANCEL:"Annulla",CONFIRM:"Conferma"},nl:{OK:"OK",CANCEL:"Annuleren",CONFIRM:"Accepteren"},no:{OK:"OK",CANCEL:"Avbryt",CONFIRM:"OK"},pl:{OK:"OK",CANCEL:"Anuluj",CONFIRM:"Potwierd\u017a"},ru:{OK:"OK",CANCEL:"\u041e\u0442\u043c\u0435\u043d\u0430",
CONFIRM:"\u041f\u0440\u0438\u043c\u0435\u043d\u0438\u0442\u044c"},zh_CN:{OK:"OK",CANCEL:"\u53d6\u6d88",CONFIRM:"\u786e\u8ba4"},zh_TW:{OK:"OK",CANCEL:"\u53d6\u6d88",CONFIRM:"\u78ba\u8a8d"}};k.init=function(a){window.bootbox=init(a||e)};return k}(window.jQuery);